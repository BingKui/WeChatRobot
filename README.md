# WeChatRobot
微信自动回复机器人，帮助解决大批量关键词信息的回复。

支持自定义启用群组，自定义知识库，根据不同的答案回答不同的消息。

## 项目目录

```
WechatRobot
    |---assets  // 资源目录
    |    |---avatar // 头像资源
    |    |---document // 文档资源
    |    |---image // 图片资源资源
    |    |---match // 朋友圈配图资源
    |    |---video // 视频资源
    |    |---voice // 语音资源
    |    |---wallpaper // 壁纸资源
    |---config  // 配置文件目录
    |---feature  // 功能文件目录，存放各个功能的实现
    |---knowledge  // 知识库，早期版本知识库，在 v0.3.0 中会被删除
    |---log  // 日志目录，后续会被删除
    |---model  // mongoose 数据库模型目录，存放数据库映射关系
    |---temp  // 聊天记录存放目录，在 v0.3.0 中会被删除，改用数据库记录
    |---test  // 存放用于临时测试的文件
    |---token  // 百度 AI Token 存放目录，在 v0.3.0 接入百度 AI 后删除，改用数据库记录
    |---tools  // 工具类存放目录，主要存放相关的工具类，为功能模块提供支持
    |---index.js  // 项目主文件，是机器人的入口文件
    |---plan.md  // 功能规划文件，存放功能列表，以及完成情况
    |---updatelog.md  // 项目更新日志
    |---LICENSE  // 开源证书文件
```

## 项目依赖环境

node: 版本大于 v10.0.0

## 运行

安装依赖：

```
npm install
```

修改所需要的配置信息：

打开 config.js 文件，补全文件中的相应的Key，目前有：

```
// 心知天气API密钥
weatherAPIKey: '',
// 百度AI应用 API Key
baiduApiKey: '',
// 百度AI应用 Secret Key
baiduSecretKey: '',
// 聚合数据，获取笑话的key
jokeKey: '',
// 聚合数据，问答类的key
qAndAKey: ''
```

运行：

```
npm start
```

扫描终端二维码，登录，然后完成。

## 注意

目前百度AI接口正在开发中，相应功能还未实现，可以不用填写百度AI相应的 key 。（在 v0.3.0 中将接入百度AI中心）

## 配置知识库

修改项目下的 knowledge.json 文件中的 knowledge 字段，增加或者删除知识相关的关键词和答案。

修改 group 字段可以自定义需要开启的群聊名称，如果不设置 默认都不开启。(功能已废弃，目前全部开启，如果需要可自行修改注释代码，开启功能)

修改 warn 对象的相应字段可以修改警告的关键字和警告语。

## 目录说明

log：保存用户的登录信息，记录登录的次数和登录时间等信息.

temp：存放每天的聊天记录，并做存档。

knowledge：保存知识库资料，后期支持多个知识库切换.

token：保存百度AI的 Access Token 

## [更新日志](./updatelog.md)
